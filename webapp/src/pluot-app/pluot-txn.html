<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="pluot-cat.html">

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">

<dom-module id="pluot-txn">
  <template>
    <style include="iron-flex iron-flex-alignment">
      #date {
        width: 64px;
      }
      #container {
        border-bottom: 1px black solid;
      }
    </style>
    <paper-item id="container" class="layout horizontal layout-start">
      <div id="date">[[_friendlyDate(txn.postDate)]]</div>
      <div id="displayName" class="flex">[[txn.originalDisplayName]]</div>
      <pluot-cat cat="[[txn.category]]"></pluot-cat>
    </paper-item>
  </template>

  <script>
    class PluotTxn extends Polymer.Element {
      static get is() { return 'pluot-txn'; }
      static get properties() {
        return {
          txn: {
            type: Object,
            value: {}
          }
        };
      }
      _friendlyDate(str) {
        var d = new Date(Date.parse(str));
        var options = {
          month: 'short',
          day: 'numeric',
        };
        return d.toLocaleString('en-US', options);
      }
    }
    window.customElements.define(PluotTxn.is, PluotTxn);
  </script>

</dom-module>
